/*!
* Author: Antonio Dal Sie
* Name: lv-ripple
* Description: Material ripple effects
*/
!function(e,t){var n=function(){function t(){H=e("ripple, *[ripple], .ripple").toArray()}function n(e,t){var n=e.indexOf(t);n>-1&&delete e[n],e=r(e)}function r(e){return e.filter(function(e){return void 0!=e})}function i(){e(H).each(function(t,n){delete H[t],e(n).trigger("r-destroy")}),H=r(H)}function o(){e(H).each(function(t,n){delete H[t],e(n).trigger("r-disable"),I.push(n)}),H=r(H)}function a(){e(I).each(function(t,n){delete I[t],e(n).trigger("r-enable"),H.push(n)}),I=r(I)}function u(){e(H).each(function(t,n){e(n).trigger("r-update")})}function s(t){n(H,e(t)[0]),e(t).trigger("r-destroy")}function c(t){n(H,e(t)[0]),e(t).trigger("r-disable"),I.push(e(t)[0])}function d(t){n(I,e(t)[0]),e(t).trigger("r-enable"),H.push(e(t)[0])}function l(t){e(t).trigger("r-update")}function p(t){var n=e(t).html(),r=e("<button></button>");return r=e("ripple"!=e(t).prop("nodeName").toLowerCase()?f(t,e(t).prop("nodeName").toLowerCase()):f(t,"button")),r.removeClass("ripple"),r.removeAttr("ripple data-ripple ng-ripple"),r.addClass("ripple-cont"),r.append("<div class='ripple-content'>"+n+"</div>"),r.append("<div class='ink-content'></div>"),r[0].outerHTML}function f(t,n){var r={};return el=e(t),e.each(el[0].attributes,function(e,t){r[t.nodeName]=t.nodeValue}),el=e("<"+n+"/>",r),el}function h(){e(H).each(function(t,n){var r=p(n),i=e.now();r=e(r),r.addClass("ripple-idm-"+i),e(n).after(r).remove(),r=e(".ripple-idm-"+i),r.removeClass("ripple-idm-"+i),H[t]=r[0],v(r[0],t)})}function b(t){if(e(t).length<=1){var n=p(t),r=e.now();n=e(n),n.addClass("ripple-idm-"+r),e(t).after(n).remove(),n=e(".ripple-idm-"+r),n.removeClass("ripple-idm-"+r);var i=H.push(n[0]);return v(n[0],i)}e(t).each(function(e,t){return b(t)})}function v(t,r){function i(){h=c.hasClass("r-icon"),b=c.hasClass("r-overink"),l="undefined"!=typeof t.attributes["r-light"],p="undefined"!=typeof t.attributes["r-color"]&&t.attributes["r-color"].nodeValue,f="undefined"!=typeof t.attributes["r-opacity"]?t.attributes["r-opacity"].nodeValue:null,v="undefined"!=typeof t.attributes["r-prevent"]&&t.attributes["r-prevent"].nodeValue}function o(n){function i(){var e=(y-w)/100*10;L=setInterval(function(){w<y?(w+=e,s.css({height:I+w,width:I+w})):clearInterval(L)},50)}function o(){e(window).bind("mouseup blur touchend",a),c.bind("mouseleave",a)}function a(){e(window).unbind("mouseup blur touchend",a),c.unbind("mouseleave",a),clearInterval(L);var t=w<=y?T.rippleDelay:1;w=w<y?y:w,s.css({height:I+w,width:I+w}),setTimeout(function(){g.css({opacity:0}),s.hasClass("new")&&!h&&d.css("background-color",""),setTimeout(function(){s.remove(),b&&!d.find(".ink").length&&d.hide(0)},550)},t)}if(A[r].indexOf(n.timeStamp)==-1){A[r].push(n.timeStamp);var u=e(n.target);if("undefined"==typeof t.attributes["r-disabled"]&&!c.hasClass("disabled")&&!(u.hasClass("r-noink")||u.parents(".r-noink").length||v&&c.is(v))){b&&d.show(0);var s=e("<div class='ink'><i></i></div>"),g=s.find("i"),w=0,y=0;d.find(".ink").removeClass("new"),s.addClass("new"),d.prepend(s);var k="touchstart"!=n.type?n.pageX-d.offset().left:n.originalEvent.touches[0].pageX-d.offset().left,C="touchstart"!=n.type?n.pageY-d.offset().top:n.originalEvent.touches[0].pageY-d.offset().top;h?(k=0,C=0):(s.css({top:C+"px",left:k+"px"}),k=k>d.outerWidth()/2?k-d.outerWidth()/2:d.outerWidth()/2-k,C=C>d.outerHeight()/2?C-d.outerHeight()/2:d.outerHeight()/2-C);var x=Math.max(d.outerWidth(),d.outerHeight()),H=k+C,I=x+H;x-=H;var W=d.outerHeight(),O=d.outerWidth(),V=Math.sqrt(O*O+W*W),y=V-x;y=h?0:y,s.css({height:I+w,width:I+w}),g.css("opacity",0);var E=f||T.rippleOpacity;if(p?g.css("background-color",p):l&&g.css("background-color","rgb(255,255,255)"),!h)if(d.css("background-color","rgba(0,0,0,0.098)"),p){var F=m(p);d.css("background-color","rgba("+F.r+","+F.g+","+F.b+",0.098)")}else l&&d.css("background-color","rgba(255,255,255,0.098)");setTimeout(function(){s.addClass("animate")},1),g.css({opacity:E});var L=null;i(),"mousedown"==n.type&&1!==n.which?setTimeout(function(){a()},100):o()}}}function a(){n(H,e(c)[0]),c.children(".ink-content").remove();var t=c.find(".ripple-content").html();c.find(".ripple-content").remove(),c.append(t),c.removeClass("ripple-cont"),c.unbind("mousedown touchstart",o)}function u(){n(H,e(c)[0]),c.unbind("mousedown touchstart",o),I.push(e(c)[0])}function s(){n(I,e(c)[0]),c.bind("mousedown touchstart",o),H.push(e(c)[0])}var c=null,d=null,l=!1,p=!1,f=null,h=!1,b=!1,v=!1,r=r;return c=e(t),t=c[0],A[r]=[],c.on("r-destroy",function(){c.children(".ink-content").remove();var e=c.find(".ripple-content").html();c.find(".ripple-content").remove(),c.append(e),c.removeClass("ripple-cont"),c.unbind("mousedown touchstart",o)}),c.on("r-disable",function(){c.unbind("mousedown touchstart",o)}),c.on("r-enable",function(){c.bind("mousedown touchstart",o)}),c.on("r-update",function(){i()}),c.removeClass("ripple"),d=c.children(".ink-content"),i(),c.bind("mousedown touchstart",o),{element:c,destroy:a,disable:u,enable:s,update:i}}function m(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function g(n){n?C(n):e.noop(),t(),h()}function w(e){return b(e?e:this)}function y(){return H}function k(){return A}function C(t){e.extend(T,t)}function x(e){switch(e){case"enable":d(this);break;case"disable":c(this);break;case"destroy":s(this);break;case"update":l(this);break;default:return w(this)}}var H=[],I=[],A=[],T={rippleOpacity:.2,rippleDelay:100};return{init:g,initElement:w,list:y,eventHistory:k,config:C,destroy:i,disable:o,enable:a,update:u,"switch":x}}();e.ripple=n,e.fn.ripple=n["switch"]}(jQuery,window);