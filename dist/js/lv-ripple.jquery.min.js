/*!
* Author: Antonio Dal Sie
* Name: lv-ripple
* Description: Material ripple effects
*/
!function(e,t){var n=function(){function t(){C=e("ripple, *[ripple], .ripple")}function n(){e(C).each(function(t,n){e(n).trigger("r-destroy"),delete C[t]})}function r(){e(C).each(function(t,n){e(n).trigger("r-disable"),delete C[t],H.push(n)})}function i(){e(H).each(function(t,n){e(n).trigger("r-enable"),delete H[t],C.push(n)})}function o(){e(C).each(function(t,n){e(n).trigger("r-update")})}function a(t){e(t).trigger("r-destroy"),C.pop(t[0])}function s(t){e(t).trigger("r-destroy"),C.pop(t[0]),H.push(t[0])}function u(t){e(t).trigger("r-enable"),H.pop(t[0]),C.push(t[0])}function c(t){e(t).trigger("r-update")}function p(t){var n=e(t).html(),r=e("<button></button>");return r=e("ripple"!=e(t).prop("nodeName").toLowerCase()?d(t,e(t).prop("nodeName").toLowerCase()):d(t,"button")),r.removeClass("ripple"),r.removeAttr("ripple data-ripple ng-ripple"),r.addClass("ripple-cont"),r.append("<div class='ripple-content'>"+n+"</div>"),r.append("<div class='ink-content'></div>"),r[0].outerHTML}function d(t,n){var r={};return el=e(t),e.each(el[0].attributes,function(e,t){r[t.nodeName]=t.nodeValue}),el=e("<"+n+"/>",r),el}function l(){C.each(function(t,n){var r=p(n),i=e.now();r=e(r),r.addClass("ripple-idm-"+i),e(n).after(r).remove(),r=e(".ripple-idm-"+i),r.removeClass("ripple-idm-"+i),C[t]=r[0],h(r[0],t)})}function f(t){if(e(t).length<=1){var n=p(t),r=e.now();n=e(n),n.addClass("ripple-idm-"+r),e(t).after(n).remove(),n=e(".ripple-idm-"+r),n.removeClass("ripple-idm-"+r);var i=C.push(n[0]);return h(n[0],i)}e(t).each(function(e,t){return f(t)})}function h(t,n){function r(){f=u.hasClass("r-icon"),h=u.hasClass("r-overink"),p="undefined"!=typeof t.attributes["r-light"],d="undefined"!=typeof t.attributes["r-color"]&&t.attributes["r-color"].nodeValue,l="undefined"!=typeof t.attributes["r-opacity"]?t.attributes["r-opacity"].nodeValue:null,g="undefined"!=typeof t.attributes["r-prevent"]&&t.attributes["r-prevent"].nodeValue}function i(r){function i(){var e=(y-w)/100*10;M=setInterval(function(){w<y?(w+=e,v.css({height:W+w,width:W+w})):clearInterval(M)},50)}function o(){e(window).bind("mouseup blur touchend",a),u.bind("mouseleave",a)}function a(){e(window).unbind("mouseup blur touchend",a),u.unbind("mouseleave",a),clearInterval(M);var t=w<=y?I.rippleDelay:1;w=w<y?y:w,v.css({height:W+w,width:W+w}),setTimeout(function(){m.css({opacity:0}),v.hasClass("new")&&!f&&c.css("background-color",""),setTimeout(function(){v.remove(),h&&!c.find(".ink").length&&c.hide(0)},550)},t)}if(x[n].indexOf(r.timeStamp)==-1){x[n].push(r.timeStamp);var s=e(r.target);if("undefined"==typeof t.attributes["r-disabled"]&&!u.hasClass("disabled")&&!(s.hasClass("r-noink")||s.parents(".r-noink").length||g&&u.is(g))){h&&c.show(0);var v=e("<div class='ink'><i></i></div>"),m=v.find("i"),w=0,y=0;c.find(".ink").removeClass("new"),v.addClass("new"),c.prepend(v);var k="touchstart"!=r.type?r.pageX-c.offset().left:r.originalEvent.touches[0].pageX-c.offset().left,C="touchstart"!=r.type?r.pageY-c.offset().top:r.originalEvent.touches[0].pageY-c.offset().top;f?(k=0,C=0):(v.css({top:C+"px",left:k+"px"}),k=k>c.outerWidth()/2?k-c.outerWidth()/2:c.outerWidth()/2-k,C=C>c.outerHeight()/2?C-c.outerHeight()/2:c.outerHeight()/2-C);var H=Math.max(c.outerWidth(),c.outerHeight()),T=k+C,W=H+T;H-=T;var A=c.outerHeight(),V=c.outerWidth(),E=Math.sqrt(V*V+A*A),y=E-H;y=f?0:y,v.css({height:W+w,width:W+w}),m.css("opacity",0);var F=l||I.rippleOpacity;if(d?m.css("background-color",d):p&&m.css("background-color","rgb(255,255,255)"),!f)if(c.css("background-color","rgba(0,0,0,0.098)"),d){var L=b(d);c.css("background-color","rgba("+L.r+","+L.g+","+L.b+",0.098)")}else p&&c.css("background-color","rgba(255,255,255,0.098)");setTimeout(function(){v.addClass("animate")},1),m.css({opacity:F});var M=null;i(),"mousedown"==r.type&&1!==r.which?setTimeout(function(){a()},100):o()}}}function o(){u.children(".ink-content").remove(),u.find(".ripple-content").unwrap(),u.removeClass("ripple-content"),u.unbind("mousedown touchstart",i),C.pop(u[0])}function a(){u.unbind("mousedown touchstart",i),C.pop(u[0]),H.push(u[0])}function s(){u.bind("mousedown touchstart",i),H.pop(u[0]),C.push(u[0])}var u=null,c=null,p=!1,d=!1,l=null,f=!1,h=!1,g=!1,n=n;return u=e(t),t=u[0],x[n]=[],u.on("r-destroy",function(){u.children(".ink-content").remove(),u.find(".ripple-content").unwrap(),u.removeClass("ripple-content"),u.unbind("mousedown touchstart",i)}),u.on("r-disable",function(){u.unbind("mousedown touchstart",i)}),u.on("r-enable",function(){u.bind("mousedown touchstart",i)}),u.on("r-update",function(){r()}),u.removeClass("ripple"),c=u.children(".ink-content"),r(),u.bind("mousedown touchstart",i),{element:u,destroy:o,disable:a,enable:s,update:r}}function b(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function g(n){n?y(n):e.noop(),t(),l()}function v(e){return f(e?e:this)}function m(){return C}function w(){return x}function y(t){e.extend(I,t)}function k(e){switch(e){case"enable":u(this);break;case"disable":s(this);break;case"destroy":a(this);break;case"update":c(this);break;default:return v(this)}}var C=[],H=[],x=[],I={rippleOpacity:.2,rippleDelay:100};return{init:g,initElement:v,list:m,eventHistory:w,config:y,destroy:n,disable:r,enable:i,update:o,"switch":k}}();e.ripple=n,e.fn.ripple=n["switch"]}(jQuery,window);