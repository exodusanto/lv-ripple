/*!
* Author: Antonio Dal Sie
* Name: lv-ripple
* Description: Material ripple effects
*/
!function(e,t){var n=function(){function t(){I.enable=e("ripple, *[ripple], .ripple").toArray()}function n(e,t){var n=e.indexOf(t);return n>-1&&delete e[n],i(e)}function i(e){return e.filter(function(e){return void 0!=e})}function r(){e(I.enable).each(function(t,n){delete I.enable[t],e(n).trigger("r-destroy")}),I.enable=i(I.enable)}function o(){e(I.enable).each(function(t,n){delete I.enable[t],e(n).trigger("r-disable"),I.disable.push(n)}),I.enable=i(I.enable)}function a(){e(I.disable).each(function(t,n){delete I.disable[t],e(n).trigger("r-enable"),I.enable.push(n)}),I.disable=i(I.disable)}function l(){e(I.enable).each(function(t,n){e(n).trigger("r-update")})}function s(t){I.enable=n(I.enable,e(t)[0]),e(t).trigger("r-destroy")}function u(t){I.enable=n(I.enable,e(t)[0]),e(t).trigger("r-disable"),I.disable.push(e(t)[0])}function c(t){I.disable=n(I.disable,e(t)[0]),e(t).trigger("r-enable"),I.enable.push(e(t)[0])}function d(t){e(t).trigger("r-update")}function p(t){var n=e(t).html(),i=e("<button></button>"),r=e(t).hasClass("r-overink");if(r){i=e("<div></div>");var o=e("<button></button>")}if("ripple"!=e(t).prop("nodeName").toLowerCase()){var a=e(t).clone();e(a).empty(),a[0].className="",e(a).removeClass("ripple"),e(a).removeAttr("ripple"),e(a).removeAttr("data-ripple"),e(a).removeAttr("lv-ripple"),r?o=e(a):i=e(a)}return e.each(t.attributes,function(){i.attr(this.name,this.value)}),i.addClass("ripple-cont"),r?(o.addClass("ripple-content"),o.html(n),i.append(o)):i.append("<div class='ripple-content'>"+n+"</div>"),i.append("<div class='ink-content'></div>"),i[0].outerHTML}function f(){e(I.enable).each(function(t,n){var i=p(n),r=e.now();i=e(i),i.addClass("ripple-idm-"+r),e(n).after(i).remove(),i=e(".ripple-idm-"+r),i.removeClass("ripple-idm-"+r),I.enable[t]=i[0],h(i[0],t)})}function b(t){if(e(t).length<=1){var n=p(t),i=e.now();n=e(n),n.addClass("ripple-idm-"+i),e(t).after(n).remove(),n=e(".ripple-idm-"+i),n.removeClass("ripple-idm-"+i);var r=I.enable.push(n[0]);return h(n[0],r)}e(t).each(function(e,t){return b(t)})}function h(t,i){function r(){b=u.hasClass("r-icon"),h=u.hasClass("r-overink"),d="undefined"!=typeof t.attributes["r-light"],p="undefined"!=typeof t.attributes["r-color"]&&t.attributes["r-color"].nodeValue,f="undefined"!=typeof t.attributes["r-opacity"]?t.attributes["r-opacity"].nodeValue:null,m="undefined"!=typeof t.attributes["r-prevent"]&&t.attributes["r-prevent"].nodeValue}function o(n){function r(){var e=(I-C)/100*10;V=setInterval(function(){C<I?(C+=e,s.css({height:W+C,width:W+C})):clearInterval(V)},50)}function o(){e(window).bind(w.end+" blur",a),u.bind("mouseleave",a)}function a(){e(window).unbind(w.end+" blur",a),u.unbind("mouseleave",a),clearInterval(V),clearInterval(g),clearInterval(y);var t=C<=I?E.rippleDelay:1;C=C<I?I:C,s.css({height:W+C,width:W+C}),setTimeout(function(){k.css({opacity:0}),s.hasClass("new")&&!b&&c.css("background-color",""),setTimeout(function(){s.remove(),h&&!c.find(".ink").length&&c.hide(0)},550)},t)}if(n.preventDefault(),T[i].indexOf(n.timeStamp)==-1){T[i].push(n.timeStamp);var l=e(n.target);if("undefined"==typeof t.attributes["r-disabled"]&&!u.hasClass("disabled")&&!(l.hasClass("r-noink")||l.parents(".r-noink").length||m&&u.is(m))){h&&c.show(0);var s=e("<div class='ink'><i></i></div>"),k=s.find("i"),C=0,I=0;c.find(".ink").removeClass("new"),s.addClass("new"),c.prepend(s);var A="touchstart"!=n.type?n.pageX-c.offset().left:n.originalEvent.touches[0].pageX-c.offset().left,x="touchstart"!=n.type?n.pageY-c.offset().top:n.originalEvent.touches[0].pageY-c.offset().top;b?(A=0,x=0):(s.css({top:x+"px",left:A+"px"}),A=A>c.outerWidth()/2?A-c.outerWidth()/2:c.outerWidth()/2-A,x=x>c.outerHeight()/2?x-c.outerHeight()/2:c.outerHeight()/2-x);var H=2*A+2*x,O=c.outerHeight(),P=c.outerWidth(),W=Math.sqrt(P*P+O*O),I=H;I=b?0:I,s.css({height:W,width:W}),k.css("opacity",0);var D=f||E.rippleOpacity;if(p?k.css("background-color",p):d&&k.css("background-color","rgb(255,255,255)"),!b)if(c.css("background-color","rgba(0,0,0,0.098)"),p){var F=v(p);c.css("background-color","rgba("+F.r+","+F.g+","+F.b+",0.098)")}else d&&c.css("background-color","rgba(255,255,255,0.098)");setTimeout(function(){s.addClass("animate")},1),k.css({opacity:D});var V=null;r(),"mousedown"==n.type&&1!==n.which?setTimeout(function(){a()},100):"click"==n.type?setTimeout(function(){a()},300):"touchstart"==n.type?(g=setTimeout(function(){a()},1e3),e(window).bind("scroll",forceRemoveInk),y=setTimeout(function(){e(window).unbind("scroll",forceRemoveInk)},500),o()):o()}}}function a(){I.enable=n(I.enable,e(u)[0]),u.children(".ink-content").remove();var t=u.find(".ripple-content").html();u.find(".ripple-content").remove(),u.append(t),u.removeClass("ripple-cont"),u.unbind("mousedown touchstart",o)}function l(){I.enable=n(I.enable,e(u)[0]),u.unbind("mousedown touchstart",o),I.disable.push(e(u)[0])}function s(){I.disable=n(I.disable,e(u)[0]),u.bind("mousedown touchstart",o),I.enable.push(e(u)[0])}var u=null,c=null,d=!1,p=!1,f=null,b=!1,h=!1,m=!1,i=i,g=null,y=null;u=e(t),t=u[0],"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:u,mouseEvents:["click","dblclick"]});var w={start:"ontouchstart"in document.documentElement?E.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup"};return T[i]=[],u.on("r-destroy",function(){u.children(".ink-content").remove();var e=u.find(".ripple-content").html();u.find(".ripple-content").remove(),u.append(e),u.removeClass("ripple-cont"),u.unbind(w.start,o)}),u.on("r-disable",function(){u.unbind(w.start,o)}),u.on("r-enable",function(){u.bind(w.start,o)}),u.on("r-update",function(){r()}),u.removeClass("ripple"),c=u.children(".ink-content"),r(),u.bind(w.start,o),{element:u,destroy:a,disable:l,enable:s,update:r}}function v(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function m(n){n?k(n):e.noop(),t(),f()}function g(e){return b(e?e:this)}function y(){return I}function w(){return T}function k(t){e.extend(E,t)}function C(e){switch(e){case"enable":c(this);break;case"disable":u(this);break;case"destroy":s(this);break;case"update":d(this);break;default:return g(this)}}var I={enable:[],disable:[]},T=[],E={rippleOpacity:.2,rippleDelay:100,mobileTouch:!1};return{init:m,initElement:g,list:y,eventHistory:w,config:k,destroy:r,disable:o,enable:a,update:l,"switch":C}}();e.ripple=n,e.fn.ripple=n["switch"]}(jQuery,window);