/*!
* Author: Antonio Dal Sie
* Name: lv-ripple
* Description: Material ripple effects
*/
!function(e,t){var n=function(){function t(){T.enable=e("ripple, *[ripple], .ripple").toArray()}function n(e,t){var n=e.indexOf(t);return n>-1&&delete e[n],r(e)}function r(e){return e.filter(function(e){return void 0!=e})}function i(){e(T.enable).each(function(t,n){delete T.enable[t],e(n).trigger("r-destroy")}),T.enable=r(T.enable)}function a(){e(T.enable).each(function(t,n){delete T.enable[t],e(n).trigger("r-disable"),T.disable.push(n)}),T.enable=r(T.enable)}function o(){e(T.disable).each(function(t,n){delete T.disable[t],e(n).trigger("r-enable"),T.enable.push(n)}),T.disable=r(T.disable)}function s(){e(T.enable).each(function(t,n){e(n).trigger("r-update")})}function l(t){T.enable=n(T.enable,e(t)[0]),e(t).trigger("r-destroy")}function u(t){T.enable=n(T.enable,e(t)[0]),e(t).trigger("r-disable"),T.disable.push(e(t)[0])}function c(t){T.disable=n(T.disable,e(t)[0]),e(t).trigger("r-enable"),T.enable.push(e(t)[0])}function d(t){e(t).trigger("r-update")}function p(t){if(0!=t.length&&!e(t).hasClass(".ripple-cont")){var n=[],r=e(t).html(),i=e("<button></button>"),a=e(t).hasClass("r-overink");if(a){i=e("<div></div>");var o=e("<button></button>")}if("ripple"!=e(t).prop("nodeName").toLowerCase()){var s=e(t).clone();e(s).empty(),e(s).removeClass("ripple"),e(s).removeAttr("ripple"),e(s).removeAttr("data-ripple"),e(s).removeAttr("lv-ripple"),a?(n=e(s).prop("attributes"),o=e(s)):i=e(s)}return a&&e.each(n,function(e,t){if("class"!=t.name)t.name.match(/^r-*/)&&(i.attr(t.name,t.value),o.removeAttr(t.name));else{var n=t.value.match(/(r-)\S+(\s{1,})?/g).join(" ");i.attr(t.name,n),o.removeClass(n)}}),i.addClass("ripple-cont"),a?(o.addClass("ripple-content"),o.html(r),i.append(o)):i.append("<div class='ripple-content'>"+r+"</div>"),i.append("<div class='ink-content'></div>"),e.each(T.enable,function(e,n){n===t&&(T.enable[e]=i)}),i[0].outerHTML}}function f(){e(T.enable).each(function(t,n){var r=p(n),i=e.now();r=e(r),r.addClass("ripple-idm-"+i),e(n).after(r).remove(),r=e(".ripple-idm-"+i),r.removeClass("ripple-idm-"+i),T.enable[t]=r[0],h(r[0],t)})}function b(t){if(e(t).length<=1){var n=p(t),r=e.now();n=e(n),n.addClass("ripple-idm-"+r),e(t).after(n).remove(),n=e(".ripple-idm-"+r),n.removeClass("ripple-idm-"+r);var i=T.enable.push(n[0]);return h(n[0],i)}e(t).each(function(e,t){return b(t)})}function h(t,r){function i(){b=c.hasClass("r-icon"),h=c.hasClass("r-overink"),d="undefined"!=typeof t.attributes["r-light"],p="undefined"!=typeof t.attributes["r-color"]&&t.attributes["r-color"].nodeValue,f="undefined"!=typeof t.attributes["r-opacity"]?t.attributes["r-opacity"].nodeValue:null,m="undefined"!=typeof t.attributes["r-prevent"]&&t.attributes["r-prevent"].nodeValue,rPreventDeep="undefined"!=typeof t.attributes["r-prevent-deep"]&&t.attributes["r-prevent-deep"].nodeValue,y="undefined"!=typeof t.attributes["r-prevent-parent"]&&t.attributes["r-prevent-parent"].nodeValue,k="undefined"!=typeof t.attributes["r-prevent-parent-deep"]?t.attributes["r-prevent-parent-deep"].nodeValue:1}function a(t,n){return 0!=n&&(!!e(t).parent().is(y)||a(e(t).parent(),n-1))}function o(n){function i(){var e=(P-V)/100*10;Y=setInterval(function(){V<P?(V+=e,x.css({height:M+V,width:M+V})):clearInterval(Y)},50)}function o(){e(window).bind(A.end+" blur",s),c.bind("mouseleave",s)}function s(){e(window).unbind(A.end+" blur",s),c.unbind("mouseleave",s),clearInterval(Y),clearInterval(W),clearInterval(D);var t=V<=P?E.rippleDelay:1;V=V<P?P:V,x.css({height:M+V,width:M+V}),setTimeout(function(){H.css({opacity:0}),x.hasClass("new")&&!b&&w.css("background-color",""),setTimeout(function(){x.remove(),h&&!w.find(".ink").length&&w.hide(0)},550)},t)}var l=n.timeStamp;if(0==l){var u=new Date;l=u.getTime()}var c=e(n.currentTarget).closest(".ripple-cont"),w=c.children(".ink-content");if(c.hasClass("r-childprevent"))return c.removeClass("r-childprevent");if(c.parents(".ripple-cont").addClass("r-childprevent"),I[r].indexOf(n.timeStamp)==-1){I[r].push(n.timeStamp);var T=e(n.target);if("undefined"==typeof t.attributes["r-disabled"]&&!c.hasClass("disabled")&&!T.hasClass("r-noink")&&!T.parents(".r-noink").length&&("mousedown"!=n.type&&"touchstart"!=n.type||!T.hasClass("r-noink-hover")&&!T.parents(".r-noink-hover").length)&&("click"!=n.type||C||T.hasClass("r-noink-hover")||T.parents(".r-noink-hover").length)&&!(m&&e(c).is(m)||g&&(e(c).is(g)||0!=e(c).find(g).length)||y&&a(c,k))){h&&w.show(0);var x=e("<div class='ink'><i></i></div>"),H=x.find("i"),V=0,P=0,W=null,D=null;w.find(".ink").removeClass("new"),x.addClass("new"),w.prepend(x);var O="touchstart"!=n.type?n.pageX-w.offset().left:n.originalEvent.touches[0].pageX-w.offset().left,S="touchstart"!=n.type?n.pageY-w.offset().top:n.originalEvent.touches[0].pageY-w.offset().top;b?(O=0,S=0):(x.css({top:S+"px",left:O+"px"}),O=O>w.outerWidth()/2?O-w.outerWidth()/2:w.outerWidth()/2-O,S=S>w.outerHeight()/2?S-w.outerHeight()/2:w.outerHeight()/2-S);var F=2*O+2*S,j=w.outerHeight(),L=w.outerWidth(),M=Math.sqrt(L*L+j*j),P=F;P=b?0:P,x.css({height:M,width:M}),H.css("opacity",0);var R=f||E.rippleOpacity;if(p?H.css("background-color",p):d&&H.css("background-color","rgb(255,255,255)"),!b)if(w.css("background-color","rgba(0,0,0,0.098)"),p){var X=v(p);w.css("background-color","rgba("+X.r+","+X.g+","+X.b+",0.098)")}else d&&w.css("background-color","rgba(255,255,255,0.098)");setTimeout(function(){x.addClass("animate")},1),H.css({opacity:R});var Y=null;i(),"mousedown"==n.type&&1!==n.which?setTimeout(function(){s()},100):"click"==n.type?setTimeout(function(){s()},300):"touchstart"==n.type?(W=setTimeout(function(){s()},1e3),e(window).bind("scroll",forceRemoveInk),D=setTimeout(function(){e(window).unbind("scroll",forceRemoveInk)},500),o()):o()}}}function s(){T.enable=n(T.enable,e(c)[0]),c.children(".ink-content").remove();var t=c.find(".ripple-content").html();c.find(".ripple-content").remove(),c.append(t),c.removeClass("ripple-cont"),c.unbind("mousedown touchstart",o)}function l(){T.enable=n(T.enable,e(c)[0]),c.unbind("mousedown touchstart",o),T.disable.push(e(c)[0])}function u(){T.disable=n(T.disable,e(c)[0]),c.bind("mousedown touchstart",o),T.enable.push(e(c)[0])}if(0!=e(t).length){var c=null,d=!1,p=!1,f=null,b=!1,h=!1,m=!1,g=!1,y=!1,k=1,w=!1,C="ontouchstart"in document.documentElement;c=e(t),t=c[0],h=c.hasClass("r-overink"),"undefined"!=typeof PointerEventsPolyfill&&PointerEventsPolyfill.initialize({selector:c,mouseEvents:["click","dblclick"]}),w=c.find(".r-noink-hover").length>0;var A={start:"ontouchstart"in document.documentElement?E.mobileTouch?"touchstart":"click":"mousedown",end:"ontouchend"in document.documentElement?"touchend":"mouseup"};return I[r]=[],c.on("r-destroy",function(){c.children(".ink-content").remove();var e=c.find(".ripple-content").html();c.find(".ripple-content").remove(),c.append(e),c.removeClass("ripple-cont"),c.unbind(A.start,o)}),c.on("r-disable",function(){c.unbind(A.start,o)}),c.on("r-enable",function(){c.bind(A.start,o)}),c.on("r-update",function(){i()}),c.removeClass("ripple"),rippleCont=c.children(".ink-content"),i(),c.bind(A.start,o),{element:c,destroy:s,disable:l,enable:u,update:i}}}function v(e){var t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,n=t.exec(e);if(null===n)throw"Wrong hex format: please use #ffffff";return{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}}function m(n){n?w(n):e.noop(),t(),f()}function g(e){return b(e?e:this)}function y(){return T}function k(){return I}function w(t){e.extend(E,t)}function C(e){switch(e){case"enable":c(this);break;case"disable":u(this);break;case"destroy":l(this);break;case"update":d(this);break;default:return g(this)}}var T={enable:[],disable:[]},I=[],E={rippleOpacity:.2,rippleDelay:100,mobileTouch:!1};return{init:m,initElement:g,list:y,eventHistory:k,config:w,destroy:i,disable:a,enable:o,update:s,"switch":C}}();e.ripple=n,e.fn.ripple=n["switch"]}(jQuery,window);