/*!
* Author: Antonio Dal Sie
* Name: lv-ripple
* Description: Material ripple effects
*/
!function(e,n){var t=function(){function n(){H.enable=e("ripple, *[ripple], .ripple").toArray()}function t(e,n){var t=e.indexOf(n);return t>-1&&delete e[t],i(e)}function i(e){return e.filter(function(e){return void 0!=e})}function r(){e(H.enable).each(function(n,t){delete H.enable[n],e(t).trigger("r-destroy")}),H.enable=i(H.enable)}function a(){e(H.enable).each(function(n,t){delete H.enable[n],e(t).trigger("r-disable"),H.disable.push(t)}),H.enable=i(H.enable)}function o(){e(H.disable).each(function(n,t){delete H.disable[n],e(t).trigger("r-enable"),H.enable.push(t)}),H.disable=i(H.disable)}function s(){e(H.enable).each(function(n,t){e(t).trigger("r-update")})}function l(n){H.enable=t(H.enable,e(n)[0]),e(n).trigger("r-destroy")}function u(n){H.enable=t(H.enable,e(n)[0]),e(n).trigger("r-disable"),H.disable.push(e(n)[0])}function d(n){H.disable=t(H.disable,e(n)[0]),e(n).trigger("r-enable"),H.enable.push(e(n)[0])}function c(n){e(n).trigger("r-update")}function p(n){var t=e(n).html(),i=e("<button></button>");return i=e("ripple"!=e(n).prop("nodeName").toLowerCase()?f(n,e(n).prop("nodeName").toLowerCase()):f(n,"button")),i.removeClass("ripple"),i.removeAttr("ripple data-ripple ng-ripple"),i.addClass("ripple-cont"),i.append("<div class='ripple-content'>"+t+"</div>"),i.append("<div class='ink-content'></div>"),i[0].outerHTML}function f(n,t){var i={};return el=e(n),e.each(el[0].attributes,function(e,n){i[n.nodeName]=n.nodeValue}),el=e("<"+t+"/>",i),el}function b(){e(H.enable).each(function(n,t){var i=p(t),r=e.now();i=e(i),i.addClass("ripple-idm-"+r),e(t).after(i).remove(),i=e(".ripple-idm-"+r),i.removeClass("ripple-idm-"+r),H.enable[n]=i[0],v(i[0],n)})}function h(n){if(e(n).length<=1){var t=p(n),i=e.now();t=e(t),t.addClass("ripple-idm-"+i),e(n).after(t).remove(),t=e(".ripple-idm-"+i),t.removeClass("ripple-idm-"+i);var r=H.enable.push(t[0]);return v(t[0],r)}e(n).each(function(e,n){return h(n)})}function v(n,i){function r(){b=u.hasClass("r-icon"),h=u.hasClass("r-overink"),c="undefined"!=typeof n.attributes["r-light"],p="undefined"!=typeof n.attributes["r-color"]&&n.attributes["r-color"].nodeValue,f="undefined"!=typeof n.attributes["r-opacity"]?n.attributes["r-opacity"].nodeValue:null,v="undefined"!=typeof n.attributes["r-prevent"]&&n.attributes["r-prevent"].nodeValue}function a(t){function r(){var e=(y-w)/100*10;F=setInterval(function(){w<y?(w+=e,l.css({height:T+w,width:T+w})):clearInterval(F)},50)}function a(){e(window).bind("mouseup blur touchend",o),u.bind("mouseleave",o)}function o(){e(window).unbind("mouseup blur touchend",o),u.unbind("mouseleave",o),clearInterval(F);var n=w<=y?A.rippleDelay:1;w=w<y?y:w,l.css({height:T+w,width:T+w}),setTimeout(function(){g.css({opacity:0}),l.hasClass("new")&&!b&&d.css("background-color",""),setTimeout(function(){l.remove(),h&&!d.find(".ink").length&&d.hide(0)},550)},n)}if(t.preventDefault(),I[i].indexOf(t.timeStamp)==-1){I[i].push(t.timeStamp);var s=e(t.target);if("undefined"==typeof n.attributes["r-disabled"]&&!u.hasClass("disabled")&&!(s.hasClass("r-noink")||s.parents(".r-noink").length||v&&u.is(v))){h&&d.show(0);var l=e("<div class='ink'><i></i></div>"),g=l.find("i"),w=0,y=0;d.find(".ink").removeClass("new"),l.addClass("new"),d.prepend(l);var k="touchstart"!=t.type?t.pageX-d.offset().left:t.originalEvent.touches[0].pageX-d.offset().left,C="touchstart"!=t.type?t.pageY-d.offset().top:t.originalEvent.touches[0].pageY-d.offset().top;b?(k=0,C=0):(l.css({top:C+"px",left:k+"px"}),k=k>d.outerWidth()/2?k-d.outerWidth()/2:d.outerWidth()/2-k,C=C>d.outerHeight()/2?C-d.outerHeight()/2:d.outerHeight()/2-C);var x=Math.max(d.outerWidth(),d.outerHeight()),H=k+C,T=x+H;x-=H;var W=d.outerHeight(),O=d.outerWidth(),V=Math.sqrt(O*O+W*W),y=V-x;y=b?0:y,l.css({height:T+w,width:T+w}),g.css("opacity",0);var D=f||A.rippleOpacity;if(p?g.css("background-color",p):c&&g.css("background-color","rgb(255,255,255)"),!b)if(d.css("background-color","rgba(0,0,0,0.098)"),p){var E=m(p);d.css("background-color","rgba("+E.r+","+E.g+","+E.b+",0.098)")}else c&&d.css("background-color","rgba(255,255,255,0.098)");setTimeout(function(){l.addClass("animate")},1),g.css({opacity:D});var F=null;r(),"mousedown"==t.type&&1!==t.which?setTimeout(function(){o()},100):a()}}}function o(){H.enable=t(H.enable,e(u)[0]),u.children(".ink-content").remove();var n=u.find(".ripple-content").html();u.find(".ripple-content").remove(),u.append(n),u.removeClass("ripple-cont"),u.unbind("mousedown touchstart",a)}function s(){H.enable=t(H.enable,e(u)[0]),u.unbind("mousedown touchstart",a),H.disable.push(e(u)[0])}function l(){H.disable=t(H.disable,e(u)[0]),u.bind("mousedown touchstart",a),H.enable.push(e(u)[0])}var u=null,d=null,c=!1,p=!1,f=null,b=!1,h=!1,v=!1,i=i;return u=e(n),n=u[0],I[i]=[],u.on("r-destroy",function(){u.children(".ink-content").remove();var e=u.find(".ripple-content").html();u.find(".ripple-content").remove(),u.append(e),u.removeClass("ripple-cont"),u.unbind("mousedown touchstart",a)}),u.on("r-disable",function(){u.unbind("mousedown touchstart",a)}),u.on("r-enable",function(){u.bind("mousedown touchstart",a)}),u.on("r-update",function(){r()}),u.removeClass("ripple"),d=u.children(".ink-content"),r(),u.bind("mousedown touchstart",a),{element:u,destroy:o,disable:s,enable:l,update:r}}function m(e){var n=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,t=n.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function g(t){t?C(t):e.noop(),n(),b()}function w(e){return h(e?e:this)}function y(){return H}function k(){return I}function C(n){e.extend(A,n)}function x(e){switch(e){case"enable":d(this);break;case"disable":u(this);break;case"destroy":l(this);break;case"update":c(this);break;default:return w(this)}}var H={enable:[],disable:[]},I=[],A={rippleOpacity:.2,rippleDelay:100};return{init:g,initElement:w,list:y,eventHistory:k,config:C,destroy:r,disable:a,enable:o,update:s,"switch":x}}();e.ripple=t,e.fn.ripple=t["switch"]}(jQuery,window);